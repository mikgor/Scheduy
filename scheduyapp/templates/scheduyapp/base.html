{% load static %}
{% load i18n %}
<!DOCTYPE html>
<html>
    <head>
        <title>Scheduy - {% block title %}{% endblock %}</title>
        {% block scripts %}{% endblock %}
        <meta charset="UTF-8">
     	  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.1/css/all.css" integrity="sha384-O8whS3fhG2OnA5Kas0Y9l3cfpmYjapjI0E4theH4iuMD+pLhbf6JI0jIMfYcK3yZ" crossorigin="anonymous">
     	  <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
      	<link rel="stylesheet" href="{% static 'scheduyapp/style.css' %}"/>
    </head>
    <body>
      <div class="content">
      <header><div id="logoMenu">Scheduy
         <ul>
            <li><a href="{% url 'index' %}">{% trans "Home" %}</a></li>
            <li><a href="">{% trans "News" %}</a></li>
            <li><a href="">{% trans "Privacy policy" %}</a></li>
            <li><a href="">{% trans "Contribute" %}</a></li>
         </ul>
      </div>
         {% if user.is_authenticated %}
            <div id="userActions"><div id="userMenu" title="{% trans "Show or hide menu" %}" onclick="SetMenuVisibility();">{{ user.username|capfirst }}</div>
            <div id="userTimezone" title="{% trans "Timezone" %}">{{ user.timezonePreference }}</div></div>
               <ul id="userMenuOptions" style="visibility: hidden;">
                  <a href="{% url 'UserUpdate' %}"><li>{% trans "Preferences" %}</li></a>
                  <a href="{% url 'logout' %}"><li>{% trans "Logout" %}</li></a>
               </ul>

         {% else %}
         <div id="registration"><a href="{% url 'login' %}"><div id="userMenu">{% trans "Log in" %}</div></a>
         <a href="{% url 'signup' %}"><div id="userMenu">{% trans "Sign up" %}</div></a></div>
         {% endif %}
      </header>
    {% block content %}{% endblock %}
    </div>
    <footer>
         <p>Scheduy @ 2018</p>
    </footer>

    <script type="text/javascript">
    function SetMenuVisibility() {
      var menu = document.getElementById("userMenuOptions");
      if (menu.style.visibility=="hidden")
      {
         var element = document.getElementById("userMenu");
         menu.style.top = element.getBoundingClientRect().bottom + "px";
         menu.style.left = element.getBoundingClientRect().x + (element.getBoundingClientRect().width - menu.offsetWidth)/2 + "px";
         menu.style.visibility = "visible";
      }
      else
         menu.style.visibility = "hidden";
    }
    </script>
    </body>
</html>
